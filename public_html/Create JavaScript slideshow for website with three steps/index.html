<!DOCTYPE html>
<html>
<head>
<title>Make a simple JavaScript slideshow step by step</title>
<link rel="stylesheet" href="../prism/prism.css">
<script src="../prism/prism.js"></script>
</head>
<body>
<h3 class="title">Step 1: Add HTML contains all slideshow photos and buttons</h3>
<pre class="language-html">
<code class="language-html"><xmp>
<div id="photo-slideshow">
    <div class="photos">
        <!-- Put all slideshow photos here -->
        <figure class="active">
            <img src="http://simplejs.net/images-2016/06-27/Create-JavaScript-slideshow-for-website-with-three-steps--1.jpg" alt="Make a simple JavaScript slideshow step by step - photo 1" title="Make a simple JavaScript slideshow step by step - photo 1" itemprop="image">
        </figure>
        <figure>
            <img src="http://simplejs.net/images-2016/06-27/Create-JavaScript-slideshow-for-website-with-three-steps--2.jpg" alt="Make a simple JavaScript slideshow step by step - photo 2" title="Make a simple JavaScript slideshow step by step - photo 2" itemprop="image">
        </figure>
        <figure>
            <img src="http://simplejs.net/images-2016/06-27/Create-JavaScript-slideshow-for-website-with-three-steps--3.jpg" alt="Make a simple JavaScript slideshow step by step - photo 3" title="Make a simple JavaScript slideshow step by step - photo 3" itemprop="image">
        </figure>
        <figure>
            <img src="http://simplejs.net/images-2016/06-27/Create-JavaScript-slideshow-for-website-with-three-steps--4.jpg" alt="Make a simple JavaScript slideshow step by step - photo 4" title="Make a simple JavaScript slideshow step by step - photo 4" itemprop="image">
        </figure>
        <figure>
            <img src="http://simplejs.net/images-2016/06-27/Create-JavaScript-slideshow-for-website-with-three-steps--5.jpg" alt="Make a simple JavaScript slideshow step by step - photo 5" title="Make a simple JavaScript slideshow step by step - photo 5" itemprop="image">
        </figure>
    </div>
    <!-- Previous and Next button -->
    <button type="button" class="prev-button"> <i></i> </button>
    <button type="button" class="next-button"> <i></i> </button>
</div>
</xmp></code>
</pre>

<p>
    Each figure tag is a slideshow item which contains photo and caption.
    <br>
    The buttons are in same level with the tag contains all slideshow items.
</p>

<h3 class="title">Step 2: Add CSS</h3>

<h4 class="title">Put all slideshow items at one place using CSS position absolute</h4>
<pre class="language-css">
<code class="language-css">
#photo-slideshow,
#photo-slideshow * {
    position: relative;
    margin: 0;
    padding: 0;
}
#photo-slideshow,
#photo-slideshow photos,
#photo-slideshow figure,
#photo-slideshow img {
    width: 100%;
}
#photo-slideshow figure {
    position: absolute;
    top: 0;
    left: 0;
    line-height: 0;
    opacity: 0;
    transition: opacity 0.5s;
    -webkit-transition: opacity 0.5s;
}
#photo-slideshow figure.active {
    position: relative;
    opacity: 1;
}
</code>
</pre>

<h4 class="title">Put previous and next button over all slideshow items and make them vertical align center</h4>
<pre class="language-css">
<code class="language-css">
#photo-slideshow button {
    position: absolute;
    height: 100%;
    top: 0;
    border: none;
    background: none;
}
#photo-slideshow .prev-button {
    left: 0;
    padding: 0 10% 0 2%;
}
#photo-slideshow .next-button {
    right: 0;
    padding: 0 2% 0 10%;
}
#photo-slideshow button i {
    display: block;
    width: 40px;
    height: 40px;
    border: solid #fff;
    border-width: 1px 1px 0 0;
}
#photo-slideshow .prev-button i {
    transform: rotateZ(225deg);
    -webkit-transform: rotateZ(225deg);
}
#photo-slideshow .next-button i {
    transform: rotateZ(45deg);
    -webkit-transform: rotateZ(45deg);
}
@media screen and (max-width: 640px) {
    #photo-slideshow button i {
        width: 25px;
        height: 25px;
    }
}
</code>
</pre>

<h3 class="title">Step 3: Add JavaScript event listener for click event on buttons</h3>
<pre class="language-javascript">
<code class="language-javascript">
var slideshow = document.getElementById("photo-slideshow");
var photos = slideshow.getElementsByClassName("photos")[0];

var prev_button = slideshow.getElementsByClassName("prev-button")[0];
var next_button = slideshow.getElementsByClassName("next-button")[0];

prev_button.addEventListener("click", prev);
next_button.addEventListener("click", next);
</code>
</pre>

<h4 class="title">Declare function prev() and next()</h4>
<pre class="language-javascript">
<code class="language-javascript">
var number = photos.children.length;
var current_index = 0;

function prev() {
    if (current_index == 0) {
        current_index = number - 1;
    } else {
        current_index--;
    }
    
    setActiveClass(current_index);
}

function next() {
    if (current_index == number - 1) {
        current_index = 0;
    } else {
        current_index++;
    }
    
    setActiveClass(current_index);
}
</code>
</pre>

<h4 class="title">Declare function setActiveClass()</h4>
<pre class="language-javascript">
<code class="language-javascript">
function setActiveClass() {
    for (var i = 0; i < number; i++) {
        if (i == current_index) {
            photos.children[i].classList.add("active");
        } else {
            photos.children[i].classList.remove("active");
        }
    }
}
</code>
</pre>

<h3 class="title">Result</h3>

<div id="photo-slideshow">
    <div class="photos">
        <!-- Put all slideshow photos here -->
        <figure class="active">
            <img src="http://simplejs.net/images-2016/06-27/Create-JavaScript-slideshow-for-website-with-three-steps--1.jpg" alt="Make a simple JavaScript slideshow step by step - photo 1">
        </figure>
        <figure>
            <img src="http://simplejs.net/images-2016/06-27/Create-JavaScript-slideshow-for-website-with-three-steps--2.jpg" alt="Make a simple JavaScript slideshow step by step - photo 2">
        </figure>
        <figure>
            <img src="http://simplejs.net/images-2016/06-27/Create-JavaScript-slideshow-for-website-with-three-steps--3.jpg" alt="Make a simple JavaScript slideshow step by step - photo 3">
        </figure>
        <figure>
            <img src="http://simplejs.net/images-2016/06-27/Create-JavaScript-slideshow-for-website-with-three-steps--4.jpg" alt="Make a simple JavaScript slideshow step by step - photo 4">
        </figure>
        <figure>
            <img src="http://simplejs.net/images-2016/06-27/Create-JavaScript-slideshow-for-website-with-three-steps--5.jpg" alt="Make a simple JavaScript slideshow step by step - photo 5">
        </figure>
    </div>
    <!-- Two control buttons -->
    <button type="button" class="prev-button"> <i></i> </button>
    <button type="button" class="next-button"> <i></i> </button>
</div>

<style>
#photo-slideshow,
#photo-slideshow * {
    position: relative;
    margin: 0;
    padding: 0;
}
#photo-slideshow,
#photo-slideshow photos,
#photo-slideshow figure,
#photo-slideshow img {
    width: 100%;
}
#photo-slideshow figure {
    position: absolute;
    top: 0;
    left: 0;
    line-height: 0;
    opacity: 0;
    transition: opacity 0.5s;
    -webkit-transition: opacity 0.5s;
}
#photo-slideshow figure.active {
    position: relative;
    opacity: 1;
}
#photo-slideshow button {
    position: absolute;
    height: 100%;
    top: 0;
    border: none;
    background: none;
}
#photo-slideshow .prev-button {
    left: 0;
    padding: 0 10% 0 2%;
}
#photo-slideshow .next-button {
    right: 0;
    padding: 0 2% 0 10%;
}
#photo-slideshow button i {
    display: block;
    width: 40px;
    height: 40px;
    border: solid #fff;
    border-width: 1px 1px 0 0;
}
#photo-slideshow .prev-button i {
    transform: rotateZ(225deg);
    -webkit-transform: rotateZ(225deg);
}
#photo-slideshow .next-button i {
    transform: rotateZ(45deg);
    -webkit-transform: rotateZ(45deg);
}
@media screen and (max-width: 640px) {
    #photo-slideshow button i {
        width: 25px;
        height: 25px;
    }
}
</style>

<script>
var slideshow = document.getElementById("photo-slideshow");
var photos = slideshow.getElementsByClassName("photos")[0];

var prev_button = slideshow.getElementsByClassName("prev-button")[0];
var next_button = slideshow.getElementsByClassName("next-button")[0];

prev_button.addEventListener("click", prev);
next_button.addEventListener("click", next);

var number = photos.children.length;
var current_index = 0;

function prev() {
    if (current_index == 0) {
        current_index = number - 1;
    } else {
        current_index--;
    }
    
    setActiveClass(current_index);
}

function next() {
    if (current_index == number - 1) {
        current_index = 0;
    } else {
        current_index++;
    }
    
    setActiveClass(current_index);
}

function setActiveClass() {
    for (var i = 0; i < number; i++) {
        if (i == current_index) {
            photos.children[i].classList.add("active");
        } else {
            photos.children[i].classList.remove("active");
        }
    }
}
</script>
</body>
</html>